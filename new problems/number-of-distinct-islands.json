{
    "problems": [
        {
            "id": null,
            "title": "Number of Distinct Islands (Union Find)",
            "description": "You are given an m x n binary matrix grid. An island is a group of 1's (representing land) connected 4-directionally (horizontal or vertical). You may assume all four edges of the grid are surrounded by water.\n\nAn island is considered to be the same as another if and only if one island can be translated (and not rotated or reflected) to equal the other.\n\nReturn the number of distinct islands.\n\nInput Format:\nFirst line contains two integers m and n (rows and columns).\nNext m lines contain n space-separated integers (0 or 1) representing the grid.\n\nOutput Format:\nPrint a single integer representing the number of distinct islands.",
            "examples": "Sample Input 1\n4 5\n1 1 0 0 0\n1 1 0 0 0\n0 0 0 1 1\n0 0 0 1 1\n\nSample Output 1\n1\n\nExplanation:\nThere are two islands, but they have the same shape (2x2 square), so there is only 1 distinct island.\n\nSample Input 2\n4 5\n1 1 0 1 1\n1 0 0 0 0\n0 0 0 0 1\n1 1 0 1 1\n\nSample Output 2\n3\n\nExplanation:\nThere are four islands with three distinct shapes.",
            "constraints": "1 <= m, n <= 50\ngrid[i][j] is either 0 or 1",
            "hints": 3,
            "timeLimit": 2,
            "memoryLimit": 256,
            "subdomainId": 7035,
            "difficulty": 3,
            "testCases": [
                {
                    "input": "4 5\n1 1 0 0 0\n1 1 0 0 0\n0 0 0 1 1\n0 0 0 1 1",
                    "expectedOutput": "1"
                },
                {
                    "input": "4 5\n1 1 0 1 1\n1 0 0 0 0\n0 0 0 0 1\n1 1 0 1 1",
                    "expectedOutput": "3"
                },
                {
                    "input": "1 1\n0",
                    "expectedOutput": "0"
                },
                {
                    "input": "1 1\n1",
                    "expectedOutput": "1"
                },
                {
                    "input": "3 3\n1 1 1\n0 1 0\n1 1 1",
                    "expectedOutput": "1"
                }
            ],
            "starterCodes": [
                {
                    "language": 1,
                    "code": "class Solution:\n    def numDistinctIslands(self, grid):\n        # TODO: Count the number of distinct islands\n        # Use DFS/BFS to find islands and record their shapes\n        # Use a set to store unique island shapes\n        return 0\n\nif __name__ == '__main__':\n    m, n = map(int, input().split())\n    grid = []\n    for i in range(m):\n        row = list(map(int, input().split()))\n        grid.append(row)\n    \n    sol = Solution()\n    print(sol.numDistinctIslands(grid))"
                },
                {
                    "language": 2,
                    "code": "import java.io.*;\nimport java.util.*;\n\nclass Solution {\n    public int numDistinctIslands(int[][] grid) {\n        // TODO: Count the number of distinct islands\n        // Use DFS/BFS to find islands and record their shapes\n        // Use a set to store unique island shapes\n        return 0;\n    }\n    \n    public static void main(String[] args) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        int m = sc.nextInt();\n        int n = sc.nextInt();\n        \n        int[][] grid = new int[m][n];\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                grid[i][j] = sc.nextInt();\n            }\n        }\n        \n        Solution sol = new Solution();\n        System.out.println(sol.numDistinctIslands(grid));\n    }\n}"
                },
                {
                    "language": 3,
                    "code": "class Solution {\n    numDistinctIslands(grid) {\n        // TODO: Count the number of distinct islands\n        // Use DFS/BFS to find islands and record their shapes\n        // Use a set to store unique island shapes\n        return 0;\n    }\n}\n\nfunction solveProblem(input) {\n    const lines = input.trim().split('\\n');\n    const [m, n] = lines[0].split(' ').map(Number);\n    \n    const grid = [];\n    for (let i = 1; i <= m; i++) {\n        grid.push(lines[i].split(' ').map(Number));\n    }\n    \n    const sol = new Solution();\n    console.log(sol.numDistinctIslands(grid));\n}\n\nconst fs = require('fs');\nsolveProblem(fs.readFileSync(0, 'utf-8'));"
                },
                {
                    "language": 4,
                    "code": "#include <bits/stdc++.h>\nusing namespace std;\n\nclass Solution {\npublic:\n    int numDistinctIslands(vector<vector<int>>& grid) {\n        // TODO: Count the number of distinct islands\n        // Use DFS/BFS to find islands and record their shapes\n        // Use a set to store unique island shapes\n        return 0;\n    }\n};\n\nint main() {\n    int m, n;\n    cin >> m >> n;\n    \n    vector<vector<int>> grid(m, vector<int>(n));\n    for (int i = 0; i < m; i++) {\n        for (int j = 0; j < n; j++) {\n            cin >> grid[i][j];\n        }\n    }\n    \n    Solution sol;\n    cout << sol.numDistinctIslands(grid) << endl;\n    \n    return 0;\n}"
                },
                {
                    "language": 5,
                    "code": "#include <stdio.h>\n#include <stdlib.h>\n\nint numDistinctIslands(int** grid, int m, int n) {\n    // TODO: Count the number of distinct islands\n    // Use DFS/BFS to find islands and record their shapes\n    // Use a set to store unique island shapes\n    return 0;\n}\n\nint main() {\n    int m, n;\n    scanf(\"%d %d\", &m, &n);\n    \n    int** grid = (int**)malloc(m * sizeof(int*));\n    for (int i = 0; i < m; i++) {\n        grid[i] = (int*)malloc(n * sizeof(int));\n        for (int j = 0; j < n; j++) {\n            scanf(\"%d\", &grid[i][j]);\n        }\n    }\n    \n    printf(\"%d\\n\", numDistinctIslands(grid, m, n));\n    \n    for (int i = 0; i < m; i++) {\n        free(grid[i]);\n    }\n    free(grid);\n    \n    return 0;\n}"
                }
            ],
            "hintsList": [
                "Use DFS/BFS to explore each island and record the relative positions of cells from a starting point.",
                "Normalize each island's shape by storing coordinates relative to the top-left cell of the island.",
                "Use a Set to store unique island shapes (as strings or tuples of coordinates) to count distinct islands."
            ]
        }
    ]
}
